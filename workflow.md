# Workflow: Процесс разработки

Этот документ описывает процесс разработки проекта Hockey Team App с использованием AI-Driven Development (AIDD).

## Обзор процесса

```
idea → research → plan → tasks → implement → review → QA → docs
```

Каждый этап производит конкретный артефакт, который используется на следующих этапах.

## Этапы и артефакты

| Этап | Артефакт | Описание |
|------|----------|----------|
| **idea** | `docs/prd/<ticket>.prd.md` | Описание фичи: что, зачем, для кого |
| **research** | `docs/research/<ticket>.md` | Анализ кодовой базы, ограничения |
| **plan** | `docs/plan/<ticket>.md` | Архитектура, компоненты, API |
| **tasks** | `docs/tasklist/<ticket>.md` | Список задач с критериями готовности |
| **implement** | Код + тесты | Реализация по одной задаче за раз |
| **review** | Комментарии | Проверка кода и архитектуры |
| **QA** | `reports/qa/<ticket>.md` | Тестирование, список проверок |
| **docs** | README, CHANGELOG | Обновление документации |

## Quality Gates (контрольные точки)

### PRD_READY
- [ ] PRD файл существует
- [ ] Заполнены разделы: контекст, цели, user stories
- [ ] Нет открытых блокирующих вопросов
- [ ] Указаны метрики успеха

### PLAN_APPROVED
- [ ] Описана архитектура решения
- [ ] Определены API эндпоинты
- [ ] Описаны изменения в БД (если есть)
- [ ] Учтены риски и ограничения

### TASKLIST_READY
- [ ] Задачи достаточно мелкие (1-4 часа работы)
- [ ] У каждой задачи есть критерии готовности
- [ ] Задачи можно выполнять последовательно

### IMPLEMENT_STEP_OK
- [ ] Код написан согласно conventions.md
- [ ] Тесты добавлены/обновлены
- [ ] Задача отмечена как выполненная в tasklist

### REVIEW_OK
- [ ] Код соответствует плану
- [ ] Нет критических замечаний
- [ ] Тесты проходят

### RELEASE_READY
- [ ] Все задачи из tasklist выполнены
- [ ] QA проверка пройдена
- [ ] Документация обновлена

## Структура docs/

```
docs/
├── .active_ticket           # Текущий тикет (например: T-001)
├── prd/
│   ├── prd.template.md      # Шаблон PRD
│   └── T-001.prd.md         # PRD для тикета T-001
├── plan/
│   ├── plan.template.md     # Шаблон плана
│   └── T-001.md             # План для тикета T-001
├── tasklist/
│   ├── tasklist.template.md # Шаблон списка задач
│   └── T-001.md             # Задачи для тикета T-001
├── research/
│   └── T-001.md             # Исследование для тикета T-001
└── releases/
    └── R-1.0.md             # Описание релиза
```

## Как работать с тикетами

### 1. Создание нового тикета

```bash
# Установить активный тикет
echo "T-002" > docs/.active_ticket

# Создать PRD из шаблона
cp docs/prd/prd.template.md docs/prd/T-002.prd.md
```

### 2. Работа над тикетом

1. Убедись, что тикет в `.active_ticket`
2. Пройди этапы: idea → research → plan → tasks
3. Реализуй задачи по одной
4. После каждой задачи — ревью и обновление tasklist

### 3. Завершение тикета

1. Все задачи в tasklist отмечены `[x]`
2. Код прошёл ревью
3. QA проверка выполнена
4. Документация обновлена

## Нумерация тикетов

- **T-XXX** — тикеты фич и задач (T-001, T-002, ...)
- **R-X.Y** — релизы (R-1.0, R-1.1, ...)
- **BUG-XXX** — баги (BUG-001, ...)

## Работа с Claude Code

### Начало работы над фичей

```
Я хочу начать работу над [описание фичи].
Создай PRD в docs/prd/T-XXX.prd.md
```

### Планирование

```
На основе PRD docs/prd/T-XXX.prd.md создай:
1. План в docs/plan/T-XXX.md
2. Список задач в docs/tasklist/T-XXX.md
```

### Реализация

```
Активный тикет: T-XXX
Выполни следующую задачу из docs/tasklist/T-XXX.md
```

### Ревью

```
Сделай ревью изменений по тикету T-XXX:
- Соответствие плану
- Соответствие conventions.md
- Качество кода
```

## Принципы

1. **Один тикет — одна фича** — не смешивать разные фичи
2. **Маленькие шаги** — задачи по 1-4 часа
3. **Явные артефакты** — всё записано в файлах
4. **Остановки на ревью** — не бежать вперёд без проверки
5. **Документирование решений** — почему сделали так, а не иначе
